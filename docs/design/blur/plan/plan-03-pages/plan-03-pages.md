# Phase 3: Pages - 页面内容重构

## 概述

**阶段目标**: 将所有页面（Home、Convert、Compress、Queue、Settings）重构为玻璃风格，确保内容区域的视觉一致性。

**预计工期**: 4-5 天

**优先级**: P0

## 范围

### 包含内容
- ✅ Home 页面重构（英雄区、功能卡片、统计信息）
- ✅ Convert 页面重构（文件选择、配置面板）
- ✅ Compress 页面重构（文件选择、压缩模式、预估）
- ✅ Queue 页面重构（任务列表、筛选、状态卡片）
- ✅ Settings 页面重构（配置表单）

### 不包含内容
- ❌ 复杂业务组件内部的细节重构（Phase 4）
- ❌ 性能优化和无障碍审计（Phase 5）

## 关键产出物

### 重构页面
1. `src/renderer/src/pages/Home.tsx`
2. `src/renderer/src/pages/Convert.tsx`
3. `src/renderer/src/pages/Compress.tsx`
4. `src/renderer/src/pages/Queue.tsx`
5. `src/renderer/src/pages/Settings.tsx`

### 页面专用组件
- `src/renderer/src/components/Hero/Hero.tsx` - Home 英雄区
- `src/renderer/src/components/FeatureCard/FeatureCard.tsx` - 功能卡片
- `src/renderer/src/components/StatCard/StatCard.tsx` - 统计卡片

## 技术决策

### 页面容器标准化
所有页面使用 `PageContainer` 包裹，应用：
- 最大宽度：1400px（居中）
- 内边距：24px
- 背景：透明（让底层渐变背景透出）

### 卡片网格布局
- 使用 CSS Grid 或 Flexbox
- 间距：16px
- 响应式列数：1 列（移动） / 2 列（平板） / 3-4 列（桌面）

### 双栏布局（Convert、Compress 页面）
- 左栏：文件选择 + 预览（40% 宽度）
- 右栏：配置选项（60% 宽度）
- 间距：24px

## 任务分解

1. **[Task 01](./tasks/task-01.md)**: 重构 Home 页面
2. **[Task 02](./tasks/task-02.md)**: 重构 Convert 页面
3. **[Task 03](./tasks/task-03.md)**: 重构 Compress 页面
4. **[Task 04](./tasks/task-04.md)**: 重构 Queue 页面
5. **[Task 05](./tasks/task-05.md)**: 重构 Settings 页面
6. **[Task 06](./tasks/task-06.md)**: 创建页面专用组件（Hero、FeatureCard、StatCard）
7. **[Task 07](./tasks/task-07.md)**: 验证所有页面功能正常

## 时间估算

| 任务 | 预计工时 | 依赖 |
|------|---------|------|
| Task 01 | 2h | Phase 2 |
| Task 02 | 3h | Phase 2 |
| Task 03 | 3h | Phase 2 |
| Task 04 | 3h | Phase 2 |
| Task 05 | 2h | Phase 2 |
| Task 06 | 2h | Task 01 |
| Task 07 | 1h | Task 01-06 |
| **总计** | **16h (约 2 天)** | |

## 风险和挑战

### 功能完整性风险
1. **破坏现有功能**: 重构可能导致表单、事件处理失效
   - 缓解：每个页面重构后立即测试核心功能
2. **文件选择逻辑**: FileUploader 组件玻璃化可能影响拖放功能
   - 缓解：保持功能逻辑不变，只修改样式层

### UI/UX 风险
1. **信息密度**: Queue 页面任务列表可能过于密集
   - 缓解：增加卡片间距，优化垂直节奏
2. **表单可读性**: Settings 页面输入框在玻璃背景下可能难以识别
   - 缓解：使用更高对比度的边框和占位符文本

## 成功标准

### 必须满足
- [x] 所有 5 个页面完成玻璃风格重构
- [x] 每个页面的核心功能正常工作（文件选择、任务提交、设置保存等）
- [x] 视觉风格统一，符合设计文档规范
- [x] `npm run type-check` 通过
- [x] `npm test` 相关测试通过

### 希望达到
- [x] 页面加载性能不下降
- [x] 所有交互动画流畅（hover、focus、click）
- [x] Empty State 样式优化（Queue 页面无任务时）

### 验收测试
- [x] **Home 页面**: 功能卡片点击跳转正确
- [x] **Convert 页面**: 能选择文件、配置参数、提交任务
- [x] **Compress 页面**: 能选择文件、选择压缩模式、提交任务
- [x] **Queue 页面**: 任务列表显示正确、筛选工作、任务状态实时更新
- [x] **Settings 页面**: 能修改配置、保存配置

## 页面设计细节

### Home 页面
```
┌─────────────────────────────────────┐
│ Hero Section (大玻璃面板)              │
│ - 标题、副标题                         │
│ - CTA 按钮                           │
└─────────────────────────────────────┘

┌──────┬──────┬──────┬──────┐
│ 功能卡│ 功能卡│ 功能卡│ 功能卡│  (3-4 列)
└──────┴──────┴──────┴──────┘

┌──────┬──────┬──────┐
│ 统计卡│ 统计卡│ 统计卡│  (3 列)
└──────┴──────┴──────┘
```

### Convert/Compress 页面
```
┌─────────────────┬─────────────────────────┐
│  文件选择区域     │   配置面板               │
│  - Dropzone     │   - 格式/压缩模式选择     │
│  - 文件列表      │   - 参数配置             │
│  - 媒体信息      │   - 预设选择             │
│                 │   - 操作按钮             │
└─────────────────┴─────────────────────────┘
```

### Queue 页面
```
┌─────────────────────────────────────┐
│ 筛选标签 (All / Running / Completed)│
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 任务卡片 (running 状态)               │
│ - 文件名、进度条、速度、ETA           │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 任务卡片 (completed 状态)            │
└─────────────────────────────────────┘
```

### Settings 页面
```
┌─────────────────────────────────────┐
│ FFmpeg 配置                          │
│ - 路径设置                            │
│ - 并发数设置                          │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 性能配置                             │
│ - 硬件加速                            │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 外观配置                             │
│ - 主题、语言                          │
└─────────────────────────────────────┘
```

## 参考文档

- [设计文档 - Page Layouts](../../page-layouts.md)
- [设计文档 - Component Patterns](../../component-patterns.md)
- [Phase 1 - Foundation](../plan-01-foundation/plan-01-foundation.md)
- [Phase 2 - Layout](../plan-02-layout/plan-02-layout.md)
